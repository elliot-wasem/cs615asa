<!DOCTYPE HTML PUBLIC "-//W4C//DTD HTML 4.01 Transitional//EN">

<HTML>
<HEAD>

  <TITLE>CS615A -- Aspects of System Administration</TITLE>
  <STYLE type="text/css">
  body {
  background-color: #FFFFFf;
  }
  </STYLE>
  <STYLE type="text/css">
  li.c1 {list-style: none}
  </STYLE>


</HEAD>

<BODY>
  <TABLE border="1" align="center" cellpadding="15">
    <TR>
      <TD valign="top">
        <H2>CS615A -- Aspects of System Administration - Spring 2014 - HW#5</H2>

        <H3>HW#5: Use tcpdump to observe traffic flow</H3>

        <H4>Summary:</H4>
        <p>
          The objective of this assignment is for you to learn how to use
	  <tt>tcpdump</tt> to observe and analyze DNS and HTTP related traffic.  In
	  order to be able to observe DNS traffic flowing between your host
	  and the DNS root servers as well as other DNS servers, you will need
	  to set up and configure a simple caching name server.
        </p>
        <p>
          <em>Note: you <b>must</b> use <tt>tcpdump</tt>. Graphical helper
          applications such as "wireshark" or similar tools are explicitly prohibited. You
          need to be able to read the flat text tcpdump output yourself
          and not rely on other tools to highlight things for you.</em>
        </p>
        <p>
          This assignment is worth 20 points.
        </p>

        <h4>OS Instances</h4>
        <p>
	  The exercises below can be done on any OS instance you like.  You
	  will need at least two OS instances, one for the DNS server and one
	  for the "client".  Make sure that the firewall rules between the
	  server and client allow for all the required traffic.
        </p>

	<h4>DNS server setup</h4>
	<p>
	  Set up a caching only DNS server (a ``resolver'') on your OS
	  instance.
	  You may consult any online documentation available, such as
	  <a href="http://www.tldp.org/HOWTO/DNS-HOWTO-3.html">this
	  document</a> or any others you prefer.  You may use <tt>bind</tt> or
	  any other DNS server software you like.  The only restriction is
	  that in the end your host must be able to function as a caching DNS
	  server.
	</p>
	<p>
	  Set up your client host to use your newly created DNS server for
	  host lookups.
	</p>

	<h4><tt>tcpdump</tt> exercises</h4>
	<p>
	  Use the <tt>tcpdump</tt> utility to monitor the network traffic
	  using the following scenarios:
	  <ol>
	    <li><em>on the DNS server</em>, run the following commands:
<pre>
telnet www.google.com 80
GET / HTTP/1.0


</pre>
		<ul>
		  <li>
		Track down the packets in your tcpdump referring to the DNS
		query from your DNS server to one of the root servers, then to
		the various DNS servers before the DNS information is returned
		to your server by one of Google's authoritative DNS servers.
		  </li>
		  <li>
	        Identify the 3-way handshake that initiates the
		connection from your DNS server to port 80 on Google's
		webserver, the packets that are being sent back and forth and
		finally the closing of the connection.
		  </li>
		</ul>
	<br><br>
	    </li>
	    <li><em>on your client host</em>, run the following commands:
<pre>
telnet www.youtube.com 80
GET / HTTP/1.0


</pre>
	    <ul>
	      <li>
		<em>On your client</em>: Track down the packets in your tcpdump
	        referring to the DNS query from your client host to your DNS
	        server.
	      </li>
	      <li>
		<em>On your DNS server</em>: Track down the packets in your tcpdump
		referring to the DNS query from your DNS server to one of the root
	 	servers, then to the various DNS servers before the DNS information
		is returned to your server by one of Google's authoritative DNS servers.
	      </li>
	    </ul>
	<br><br>
	  </li>
        </ol>

	<h4>Extra Credit (10 points)</h4>
	<p>
          SMTP tracking
              <ul>
                <li>on either host, use the <tt>telnet</tt> command to talk to
                  the SMTP server responsible for the <tt>stevens.edu</tt> domain and send
                  yourself a mail (as seen in <a
                  href="slides/lecture09.pdf">lecture 09</a>).
                </li>
                <li>
                  use <tt>tcpdump</tt> to track down the entire exchange (as
                  we did in class): note the handshake, the size of the
                  packets being sent back and forth (explain the number of
                  bytes for each exchange) and the tear down.
                </li>
                <li>
                  repeat the same process using different 'mail from' and 'rcpt to' lines --
                  what, if any, restrictions appear to be in effect on this
                  mail server?
                </li>
              </ul>
          </p>

       <H4>Deliverables and Due Date</H4>
       <p>
	Your deliverable is a single flat text file (plain ascii, preferably created
	via a unix editor such as vi(1)). The file needs to contain:
	<ul>
	  <li>your full name</li>
	  <li>your @stevens.edu email address</li>
	  <li>a trimmed tcpdump showing only the relevant lines for the
		tcpdump exercises</li>
	  <li>a summary of what you learned, comments and insights you've gained</li>
	</ul>
       </p>
       <p>
         The due date for this assignment is 2014-04-14 22:45.  Please
         attach the file to an email sent from your <tt>@stevens.edu</tt>
         email address to <a
         href="mailto:jschauma@stevens.edu?subject=[CS615] HW5">jschauma@stevens.edu</a>
         with a subject of "[CS615] HW5".
       </p>
      <hr>
      [<a href="index.html">Course Website</a>]
</BODY>
</HTML>
